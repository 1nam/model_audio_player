<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Alien Sneeze Simulator</title>
<script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/4.0.0/model-viewer.min.js"></script>
<style>
  body {
    margin: 0;
    overflow: hidden;
    background: #121212;
    font-family: Arial, sans-serif;
    color: #fff;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
  }
  model-viewer {
    width: 150px;
    height: 150px;
    cursor: pointer;
    margin-top: 50px;
  }
  #info {
    position: absolute;
    top: 10px;
    color: #0ff;
  }
  canvas { 
    position: absolute; 
    top: 0; 
    left: 0; 
    pointer-events: none; 
  }
</style>
</head>
<body>

<div id="info">Click the alien to make it sneeze! Right-click to toggle mask.</div>
<canvas id="sneezeCanvas"></canvas>
<model-viewer id="alien" src="https://modelviewer.dev/shared-assets/models/Cube.glb" auto-rotate rotation-per-second="10"></model-viewer>

<script>
const canvas = document.getElementById('sneezeCanvas');
const ctx = canvas.getContext('2d');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

const alien = document.getElementById('model1');
let masked = false;

// Function to create sneeze particles
function sneezeParticles() {
  const particles = [];
  for (let i = 0; i < 50; i++) {
    particles.push({
      x: canvas.width/2,
      y: canvas.height/2,
      vx: (Math.random() - 0.5) * 12,
      vy: (Math.random() - 0.5) * 12,
      alpha: 1,
      size: Math.random()*5 + 2
    });
  }

  const interval = setInterval(() => {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    particles.forEach(p => {
      p.x += p.vx; 
      p.y += p.vy; 
      p.alpha -= 0.03;
      if(p.alpha>0){
        ctx.fillStyle = `rgba(0,255,0,${p.alpha})`;
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
        ctx.fill();
      }
    });
    if (particles.every(p => p.alpha <= 0)) clearInterval(interval);
  }, 30);
}

// Click alien to sneeze
alien.addEventListener('click', () => {
  if (!masked) sneezeParticles();
});

// Right-click alien to toggle mask
alien.addEventListener('contextmenu', e => {
  e.preventDefault();
  masked = !masked;
  alert(masked ? "Mask on! Sneezes contained." : "Mask removed! Watch out for sneezes!");
});

// Handle window resize
window.addEventListener('resize', () => {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
});
</script>

</body>
</html>
